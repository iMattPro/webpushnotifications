{% if S_PWA_OPTIONS %}
<script>
	const input = document.getElementById('pwa_short_name');
	const maxLength = input.maxLength || 12;

	input.maxLength = maxLength * 2;

	input.addEventListener('input', () => {
		// Use Array.from to count characters correctly
		const inputChars = Array.from(input.value);

		// If input exceeds maxLength, truncate it
		if (inputChars.length > maxLength) {
			input.value = inputChars.slice(0, maxLength).join('');
		}
	});
</script>
{% endif %}
